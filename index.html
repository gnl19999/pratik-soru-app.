<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C - 20 Seviye AÃ§Ä±k</title>
    <style>
        /* --- GENEL TASARIM --- */
        body { margin: 0; padding: 0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #4a6a7a; color: white; display: flex; justify-content: center; user-select: none; }
        .app-container { width: 100%; max-width: 500px; min-height: 100vh; position: relative; background-color: #4a6a7a; display: flex; flex-direction: column; overflow: hidden; }
        
        /* Anasayfa */
        #home-screen { display: flex; flex-direction: column; height: 100%; }
        header.home-header { display: flex; justify-content: space-between; align-items: center; padding: 15px 20px; background-color: #4a6a7a; position: sticky; top: 0; z-index: 10; }
        .settings-icon { font-size: 24px; cursor: pointer; }
        .app-title { font-size: 20px; font-weight: bold; }
        .profile-pic { width: 40px; height: 40px; background-color: #f3d290; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-size: 20px; }
        
        .tabs { display: flex; justify-content: space-around; padding: 10px 0; border-bottom: 2px solid rgba(255, 255, 255, 0.1); background-color: #4a6a7a; position: sticky; top: 70px; z-index: 10; }
        .tab { color: #bdc3c7; font-weight: bold; padding: 10px 5px; cursor: pointer; font-size: 14px; }
        .tab.active { color: #f1c40f; border-bottom: 3px solid #f1c40f; }
        
        .level-list { padding: 20px; padding-bottom: 80px; }
        .level-card { background-color: #3e5c6a; border: 2px solid #d4a35a; border-radius: 10px; display: flex; align-items: center; padding: 15px; margin-bottom: 15px; cursor: pointer; transition: transform 0.2s; }
        .level-card:active { transform: scale(0.98); }
        /* Locked sÄ±nÄ±fÄ±nÄ± kaldÄ±rdÄ±k ama gÃ¶rsel olarak gerekirse diye tutuyoruz */
        .level-card.locked { opacity: 0.6; border-color: #7f8c8d; pointer-events: none; filter: grayscale(0.8); }
        .level-icon { font-size: 24px; margin-right: 15px; width: 30px; text-align: center; }
        .level-info { flex-grow: 1; font-size: 16px; font-weight: bold; }
        .level-progress { color: #bdc3c7; font-size: 12px; }

        /* Test EkranÄ± */
        #quiz-screen { display: none; flex-direction: column; height: 100vh; padding: 20px; box-sizing: border-box; background-color: #1a1a1a; position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 20; }
        .quiz-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .close-btn { font-size: 24px; cursor: pointer; color: #bdc3c7; }
        .quiz-title { font-size: 16px; font-weight: bold; color: #bdc3c7; }
        .progress-container { display: flex; align-items: center; gap: 10px; margin-bottom: 30px; }
        .progress-bar { flex-grow: 1; height: 6px; background-color: #333; border-radius: 3px; overflow: hidden; }
        #progress-fill { width: 0%; height: 100%; background-color: #3498db; transition: width 0.3s; }
        .progress-text { color: #3498db; font-size: 14px; }
        .quiz-content { flex-grow: 1; text-align: center; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .word-to-solve { font-size: 32px; font-weight: 800; margin-bottom: 30px; color: #fff; text-shadow: 0 2px 10px rgba(0,0,0,0.5); }
        .options { width: 100%; display: flex; flex-direction: column; gap: 10px; }
        .option-btn { background-color: #262626; border: 2px solid #262626; color: #bdc3c7; padding: 15px; border-radius: 12px; font-size: 15px; font-weight: 600; cursor: pointer; transition: all 0.2s; text-align: left; }
        .option-btn.correct { background-color: #2ecc71; border-color: #27ae60; color: white; }
        .option-btn.wrong { background-color: #e74c3c; border-color: #c0392b; color: white; }

        /* SonuÃ§ EkranÄ± */
        #result-screen { display: none; flex-direction: column; align-items: center; justify-content: center; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background-color: rgba(26, 26, 26, 0.95); z-index: 50; backdrop-filter: blur(5px); }
        .result-card { background-color: #3e5c6a; width: 80%; padding: 30px; border-radius: 20px; text-align: center; border: 2px solid #d4a35a; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        .score-circle { width: 100px; height: 100px; border-radius: 50%; background: conic-gradient(#f1c40f 0% 0%, #333 0% 100%); margin: 0 auto 20px auto; display: flex; align-items: center; justify-content: center; font-size: 24px; font-weight: bold; position: relative; }
        .score-circle::before { content: ""; position: absolute; width: 80px; height: 80px; background-color: #3e5c6a; border-radius: 50%; }
        .score-text { position: relative; z-index: 2; }
        .result-title { font-size: 24px; margin-bottom: 10px; font-weight: bold; }
        .result-msg { font-size: 16px; color: #bdc3c7; margin-bottom: 30px; }
        .home-btn { background-color: #f1c40f; color: #1a1a1a; border: none; padding: 15px 40px; border-radius: 30px; font-size: 18px; font-weight: bold; cursor: pointer; transition: transform 0.2s; }
        .home-btn:active { transform: scale(0.95); }
    </style>
</head>
<body>

<div class="app-container">
    <div id="home-screen">
        <header class="home-header">
            <div class="settings-icon">âš™ï¸</div>
            <div class="app-title" id="app-header-title">C - Ä°ngilizce</div>
            <div class="profile-pic">ğŸ‘¨ğŸ»â€ğŸ’¼</div>
        </header>

        <div class="tabs">
            <div class="tab" onclick="switchTab('YDS', this)">YDS</div>
            <div class="tab active" onclick="switchTab('C', this)">C</div>
            <div class="tab" onclick="switchTab('B2', this)">B2</div>
            <div class="tab" onclick="switchTab('B1', this)">B1</div>
            <div class="tab" onclick="switchTab('A2', this)">A2</div>
            <div class="tab" onclick="switchTab('A1', this)">A1</div>
        </div>

        <div class="level-list" id="level-container"></div>
    </div>

    <div id="quiz-screen">
        <header class="quiz-header">
            <div class="close-btn" onclick="quitQuiz()">âœ•</div>
            <div class="quiz-title">Test</div>
            <div style="width: 24px;"></div>
        </header>
        <div class="progress-container">
            <div class="progress-bar"><div id="progress-fill"></div></div>
            <div class="progress-text" id="progress-text">1/20</div>
        </div>
        <div class="quiz-content">
            <div style="font-size: 40px; margin-bottom: 10px;">ğŸ”Š</div>
            <div class="word-to-solve" id="target-word">...</div>
            <div class="options" id="options-container"></div>
        </div>
    </div>

    <div id="result-screen">
        <div class="result-card">
            <div class="result-title">Seviye Bitti!</div>
            <div class="score-circle" id="score-circle">
                <span class="score-text" id="final-score">0/20</span>
            </div>
            <div class="result-msg" id="result-msg">SonuÃ§</div>
            <button class="home-btn" onclick="closeResultScreen()">Devam Et</button>
        </div>
    </div>
</div>

<script>
    // --- 400 KELÄ°MELÄ°K C1-C2 VERÄ°TABANI (SÄ±kÄ±ÅŸtÄ±rÄ±lmÄ±ÅŸ Ã–rnek) ---
    // NOT: Kodun Ã§alÄ±ÅŸmasÄ± iÃ§in gerÃ§ek verileri buraya ekliyoruz.
    // Ä°lk 100 kelime gerÃ§ek, kalanÄ± test iÃ§in dÃ¶ngÃ¼yle oluÅŸturuluyor.
    
    let vocabularyDatabase = [
        // Level 1 (1-20)
        {en:"abundant", tr:"bol, bereketli"}, {en:"accumulate", tr:"biriktirmek"}, {en:"accurate", tr:"kesin, doÄŸru"}, {en:"accustomed", tr:"alÄ±ÅŸkÄ±n"}, {en:"acquire", tr:"elde etmek"},
        {en:"adamant", tr:"kararlÄ±, inatÃ§Ä±"}, {en:"adequate", tr:"yeterli"}, {en:"adjacent", tr:"bitiÅŸik"}, {en:"adjust", tr:"ayarlamak"}, {en:"advocate", tr:"savunmak"},
        {en:"adverse", tr:"olumsuz, ters"}, {en:"aggregate", tr:"toplam, bir araya getirmek"}, {en:"allocate", tr:"tahsis etmek"}, {en:"alter", tr:"deÄŸiÅŸtirmek"}, {en:"alternative", tr:"alternatif"},
        {en:"ambiguous", tr:"belirsiz, muÄŸlak"}, {en:"amend", tr:"deÄŸiÅŸiklik yapmak (yasa)"}, {en:"analogy", tr:"benzerlik"}, {en:"annual", tr:"yÄ±llÄ±k"}, {en:"anticipate", tr:"ummak, beklemek"},
        // Level 2 (21-40)
        {en:"apparent", tr:"aÃ§Ä±k, bariz"}, {en:"append", tr:"eklemek"}, {en:"appreciate", tr:"takdir etmek"}, {en:"approach", tr:"yaklaÅŸÄ±m"}, {en:"appropriate", tr:"uygun"},
        {en:"approximate", tr:"yaklaÅŸÄ±k"}, {en:"arbitrary", tr:"keyfi, rastgele"}, {en:"aspect", tr:"yÃ¶n, aÃ§Ä±"}, {en:"assemble", tr:"monte etmek, toplanmak"}, {en:"assess", tr:"deÄŸerlendirmek"},
        {en:"assign", tr:"atamak"}, {en:"assist", tr:"yardÄ±m etmek"}, {en:"assume", tr:"varsaymak"}, {en:"assure", tr:"garanti etmek"}, {en:"attach", tr:"eklemek, baÄŸlamak"},
        {en:"attain", tr:"elde etmek, ulaÅŸmak"}, {en:"attitude", tr:"tutum"}, {en:"attribute", tr:"atfetmek, Ã¶zellik"}, {en:"augment", tr:"artÄ±rmak, Ã§oÄŸaltmak"}, {en:"author", tr:"yazar"},
        // Level 3 (41-60)
        {en:"authority", tr:"yetki, otorite"}, {en:"automate", tr:"otomatikleÅŸtirmek"}, {en:"available", tr:"mevcut"}, {en:"aware", tr:"farkÄ±nda"}, {en:"behalf", tr:"adÄ±na"},
        {en:"benefit", tr:"fayda"}, {en:"bias", tr:"Ã¶nyargÄ±"}, {en:"bond", tr:"baÄŸ, bono"}, {en:"brief", tr:"kÄ±sa, Ã¶zet"}, {en:"bulk", tr:"bÃ¼yÃ¼k kÄ±sÄ±m, hacim"},
        {en:"capable", tr:"yetenekli"}, {en:"capacity", tr:"kapasite"}, {en:"cease", tr:"durdurmak, sona ermek"}, {en:"challenge", tr:"meydan okuma"}, {en:"channel", tr:"kanal"},
        {en:"chapter", tr:"bÃ¶lÃ¼m"}, {en:"chart", tr:"grafik, Ã§izelge"}, {en:"chemical", tr:"kimyasal"}, {en:"circumstance", tr:"durum, koÅŸul"}, {en:"cite", tr:"alÄ±ntÄ± yapmak"},
        // Level 4 (61-80)
        {en:"civil", tr:"sivil"}, {en:"clarify", tr:"aÃ§Ä±klamak"}, {en:"classic", tr:"klasik"}, {en:"clause", tr:"madde, fÄ±kra"}, {en:"code", tr:"kod, yasa"},
        {en:"coherent", tr:"tutarlÄ±"}, {en:"coincide", tr:"rastlamak, Ã§akÄ±ÅŸmak"}, {en:"collapse", tr:"Ã§Ã¶kmek"}, {en:"colleague", tr:"meslektaÅŸ"}, {en:"commence", tr:"baÅŸlamak"},
        {en:"comment", tr:"yorum"}, {en:"commission", tr:"komisyon"}, {en:"commit", tr:"iÅŸlemek (suÃ§), adamak"}, {en:"commodity", tr:"ticari mal"}, {en:"communicate", tr:"iletiÅŸim kurmak"},
        {en:"community", tr:"topluluk"}, {en:"compatible", tr:"uyumlu"}, {en:"compensate", tr:"telafi etmek"}, {en:"compile", tr:"derlemek"}, {en:"complement", tr:"tamamlamak"},
        // Level 5 (81-100)
        {en:"complex", tr:"karmaÅŸÄ±k"}, {en:"component", tr:"bileÅŸen"}, {en:"compound", tr:"bileÅŸik"}, {en:"comprehensive", tr:"kapsamlÄ±"}, {en:"comprise", tr:"oluÅŸmak, iÃ§ermek"},
        {en:"compute", tr:"hesaplamak"}, {en:"conceive", tr:"tasarlamak, algÄ±lamak"}, {en:"concentrate", tr:"odaklanmak"}, {en:"concept", tr:"kavram"}, {en:"conclude", tr:"sonuÃ§landÄ±rmak"},
        {en:"concurrent", tr:"eÅŸzamanlÄ±"}, {en:"conduct", tr:"yÃ¼rÃ¼tmek, davranÄ±ÅŸ"}, {en:"confer", tr:"gÃ¶rÃ¼ÅŸmek, danÄ±ÅŸmak"}, {en:"confine", tr:"sÄ±nÄ±rlamak"}, {en:"confirm", tr:"onaylamak"},
        {en:"conflict", tr:"Ã§atÄ±ÅŸma"}, {en:"conform", tr:"uymak"}, {en:"consent", tr:"rÄ±za gÃ¶stermek"}, {en:"consequent", tr:"sonuÃ§ olarak"}, {en:"considerable", tr:"Ã¶nemli, hatÄ±rÄ± sayÄ±lÄ±r"}
    ];

    // --- TEST Ä°Ã‡Ä°N OTOMATÄ°K DOLDURMA ---
    // EÄŸer kelime sayÄ±sÄ± 400'den azsa, geri kalanÄ±nÄ± "Word X - Anlam X" ÅŸeklinde dolduruyoruz
    // bÃ¶ylece 20. Seviyeye kadar tÃ¼m butonlar Ã§alÄ±ÅŸÄ±r.
    if (vocabularyDatabase.length < 400) {
        for (let i = vocabularyDatabase.length + 1; i <= 400; i++) {
            vocabularyDatabase.push({
                en: `C1 Word ${i}`,
                tr: `Anlam ${i}`
            });
        }
    }

    // --- DEÄÄ°ÅKENLER ---
    const TOTAL_LEVELS = 20;
    const QUESTIONS_PER_LEVEL = 20;
    
    let currentQuestions = [];
    let currentStep = 0;
    let correctCount = 0;
    let activeCategory = 'C';

    // --- BAÅLANGIÃ‡ ---
    window.onload = function() { renderLevels('C'); };

    // --- ANASAYFA ---
    function switchTab(cat, el) {
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        el.classList.add('active');
        activeCategory = cat;
        document.getElementById('app-header-title').innerText = cat + " - Ä°ngilizce";
        renderLevels(cat);
    }

    function renderLevels(cat) {
        const container = document.getElementById('level-container');
        container.innerHTML = "";
        const icons = ["ğŸ›¡ï¸", "âœï¸", "ğŸ”", "ğŸ§ ", "ğŸ“š", "ğŸ‘‘", "ğŸš€", "ğŸ’", "ğŸ§©", "ğŸ”¥"];

        for (let i = 1; i <= TOTAL_LEVELS; i++) {
            // DEÄÄ°ÅÄ°KLÄ°K BURADA: ArtÄ±k kilit mekanizmasÄ± yok, hepsi 'false'
            let isLocked = false; 
            
            let html = `
                <div class="level-card" onclick="startQuiz(${i})">
                    <div class="level-icon">${icons[(i-1)%icons.length]}</div>
                    <div class="level-info">${i}. Seviye</div>
                    <div class="level-progress">(BaÅŸla)</div>
                </div>
            `;
            container.innerHTML += html;
        }
    }

    // --- QUIZ MANTIÄI ---
    function startQuiz(levelIndex) {
        // 1. O seviyeye ait kelimeleri seÃ§
        generateLevelQuestions(levelIndex);
        
        // 2. EkranÄ± AÃ§
        document.getElementById('home-screen').style.display = 'none';
        document.getElementById('quiz-screen').style.display = 'flex';
        document.querySelector('.quiz-title').innerText = `${activeCategory} - ${levelIndex}. Seviye`;
        
        // 3. SÄ±fÄ±rla
        currentStep = 0;
        correctCount = 0;
        loadQuestionUI();
    }

    function generateLevelQuestions(level) {
        // Matematiksel DaÄŸÄ±tÄ±m:
        // Seviye 1: 0-20 arasÄ±
        // Seviye 20: 380-400 arasÄ±
        const startIndex = (level - 1) * QUESTIONS_PER_LEVEL;
        const endIndex = startIndex + QUESTIONS_PER_LEVEL;
        
        // VeritabanÄ±ndan o aralÄ±ÄŸÄ± kesip alÄ±yoruz
        const levelWords = vocabularyDatabase.slice(startIndex, endIndex);
        
        // SorularÄ± oluÅŸtur
        currentQuestions = levelWords.map(word => {
            let correct = word.tr;
            
            // YanlÄ±ÅŸ ÅŸÄ±klarÄ± TÃœM havuzdan rastgele seÃ§ (daha zorlayÄ±cÄ± olsun)
            let distractors = [];
            while(distractors.length < 3) {
                let randomWord = vocabularyDatabase[Math.floor(Math.random() * vocabularyDatabase.length)];
                if(randomWord.tr !== correct && !distractors.includes(randomWord.tr)) {
                    distractors.push(randomWord.tr);
                }
            }
            
            let options = [...distractors, correct].sort(() => 0.5 - Math.random());
            
            return {
                en: word.en,
                correct: correct,
                options: options
            };
        });
    }

    function loadQuestionUI() {
        if (currentStep >= currentQuestions.length) {
            showResult();
            return;
        }
        const data = currentQuestions[currentStep];
        
        document.getElementById('target-word').innerText = data.en;
        document.getElementById('progress-text').innerText = `${currentStep + 1}/${QUESTIONS_PER_LEVEL}`;
        document.getElementById('progress-fill').style.width = `${((currentStep + 1) / QUESTIONS_PER_LEVEL) * 100}%`;

        const container = document.getElementById('options-container');
        container.innerHTML = '';

        data.options.forEach(opt => {
            const btn = document.createElement('button');
            btn.className = 'option-btn';
            btn.innerText = opt;
            btn.onclick = () => handleAnswer(opt, data.correct, btn);
            container.appendChild(btn);
        });
    }

    function handleAnswer(selected, correct, btn) {
        const allBtns = document.querySelectorAll('.option-btn');
        allBtns.forEach(b => b.disabled = true);

        if (selected === correct) {
            btn.classList.add('correct');
            correctCount++;
        } else {
            btn.classList.add('wrong');
            allBtns.forEach(b => {
                if (b.innerText === correct) b.classList.add('correct');
            });
        }

        setTimeout(() => {
            currentStep++;
            loadQuestionUI();
        }, 1200);
    }

    function quitQuiz() {
        if(confirm("Ã‡Ä±kmak istediÄŸine emin misin?")) closeResultScreen();
    }

    // --- SONUÃ‡ EKRANI ---
    function showResult() {
        document.getElementById('quiz-screen').style.display = 'none';
        document.getElementById('result-screen').style.display = 'flex';

        document.getElementById('final-score').innerText = `${correctCount}/${QUESTIONS_PER_LEVEL}`;
        let percentage = (correctCount / QUESTIONS_PER_LEVEL) * 100;
        let color = percentage >= 50 ? '#2ecc71' : '#e74c3c';
        document.querySelector('.score-circle').style.background = `conic-gradient(${color} 0% ${percentage}%, #333 ${percentage}% 100%)`;

        let msgDiv = document.getElementById('result-msg');
        if (percentage === 100) msgDiv.innerText = "MÃ¼kemmel! ğŸ‘‘";
        else if (percentage >= 70) msgDiv.innerText = "SÃ¼per! ğŸ’ª";
        else if (percentage >= 50) msgDiv.innerText = "GÃ¼zel. ğŸ‘";
        else msgDiv.innerText = "Tekrar dene. ğŸ“š";
    }

    function closeResultScreen() {
        document.getElementById('result-screen').style.display = 'none';
        document.getElementById('quiz-screen').style.display = 'none';
        document.getElementById('home-screen').style.display = 'flex';
    }
</script>

</body>
</html>
